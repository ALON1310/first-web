{"ast":null,"code":"var _jsxFileName = \"/Users/alon/Dev/Projects/Web/my-online-store/client/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState, useMemo } from 'react';\nimport { useEffect } from 'react';\n\n// Pages\nimport Register from './pages/register';\nimport AlreadyReg from './pages/AlreadyReg';\nimport StoreScreen from './pages/StoreScreen';\nimport CartPage from './pages/CartPage';\nimport PayScreen from './pages/PayScreen';\nimport ThankYouPage from './pages/ThankYouPage';\nimport MyItemsPage from './pages/MyItemsPage';\nimport AdminPage from './pages/AdminPage';\n\n// Components\nimport MenuButton from './components/MenuButton';\n\n// Jet images\nimport falcon from './assets/jets/Falcon.png';\nimport skyLiner200 from './assets/jets/SkyLiner200.png';\nimport aeroSwift from './assets/jets/AeroSwift.png';\nimport cloudCruiser from './assets/jets/CloudCruiser.png';\nimport jetStream500 from './assets/jets/JetStream500.png';\nimport eagleEye from './assets/jets/EagleEye.png';\nimport skyDancer from './assets/jets/SkyDancer.png';\nimport nimbus300 from './assets/jets/Nimbus300.png';\nimport horizon700 from './assets/jets/Horizon700.png';\nimport phoenixGT from './assets/jets/PhoeniGT.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [view, setView] = useState('register');\n  const [cart, setCart] = useState([]);\n  const [purchasedItems, setPurchasedItems] = useState([]);\n  const [, setActivityLog] = useState([]);\n  const jets = useMemo(() => [{\n    id: 1,\n    name: 'Falcon',\n    price: 2500000,\n    imageUrl: falcon,\n    description: 'High-speed private jet.'\n  }, {\n    id: 2,\n    name: 'SkyLiner 200',\n    price: 1800000,\n    imageUrl: skyLiner200,\n    description: 'Luxurious comfort in the skies.'\n  }, {\n    id: 3,\n    name: 'AeroSwift',\n    price: 3200000,\n    imageUrl: aeroSwift,\n    description: 'Cutting-edge design and performance.'\n  }, {\n    id: 4,\n    name: 'CloudCruiser',\n    price: 2100000,\n    imageUrl: cloudCruiser,\n    description: 'Smooth flight guaranteed.'\n  }, {\n    id: 5,\n    name: 'JetStream 500',\n    price: 2900000,\n    imageUrl: jetStream500,\n    description: 'State-of-the-art avionics.'\n  }, {\n    id: 6,\n    name: 'Eagle Eye',\n    price: 2300000,\n    imageUrl: eagleEye,\n    description: 'Premium surveillance jet.'\n  }, {\n    id: 7,\n    name: 'SkyDancer',\n    price: 2750000,\n    imageUrl: skyDancer,\n    description: 'Elegant and efficient.'\n  }, {\n    id: 8,\n    name: 'Nimbus 300',\n    price: 1950000,\n    imageUrl: nimbus300,\n    description: 'Compact business jet.'\n  }, {\n    id: 9,\n    name: 'Horizon 700',\n    price: 3500000,\n    imageUrl: horizon700,\n    description: 'Long-range luxury.'\n  }, {\n    id: 10,\n    name: 'Phoenix GT',\n    price: 2600000,\n    imageUrl: phoenixGT,\n    description: 'Performance and style.'\n  }], []);\n  const [storeItems, setStoreItems] = useState(jets);\n  const logActivity = (username, activity) => {\n    const timestamp = new Date().toLocaleString();\n    setActivityLog(prev => [...prev, {\n      datetime: timestamp,\n      username,\n      activity\n    }]);\n  };\n  const handleLogin = async userData => {\n    setUser(userData);\n    console.log('👤 Logged in as:', userData);\n    logActivity(userData.username, 'login');\n    const loadedItems = await fetchPurchasesForUser(userData.username);\n    setPurchasedItems(loadedItems);\n    setView('store');\n  };\n  const handleLogout = () => {\n    if (user) logActivity(user.username, 'logout');\n    setUser(null);\n    setCart([]);\n    setPurchasedItems([]);\n    setView('register');\n  };\n  const handleAddToCart = jet => {\n    if (user) logActivity(user.username, `add-to-cart: ${jet.name}`);\n    setCart(prev => [...prev, jet]);\n  };\n  const handleRemoveFromCart = jetId => {\n    setCart(prev => {\n      const index = prev.findIndex(jet => jet.id === jetId);\n      if (index === -1) return prev;\n      const updated = [...prev];\n      updated.splice(index, 1);\n      return updated;\n    });\n  };\n  const handleConfirmCheckout = async () => {\n    try {\n      const updatedRes = await fetch(`http://localhost:3001/api/purchase/${user.username}`);\n      const updated = await updatedRes.json();\n      const allItems = updated.flatMap(record => record.items || []);\n      setPurchasedItems(allItems);\n      setCart([]);\n      setView('thankyou');\n    } catch (err) {\n      console.error('❌ Error updating purchased items after payment:', err);\n      alert('✅ Payment was successful, but failed to update your items.');\n    }\n  };\n  const fetchPurchasesForUser = async username => {\n    try {\n      const res = await fetch(`http://localhost:3001/api/purchase/${username}`);\n      if (!res.ok) throw new Error('Failed to load purchases');\n      const purchaseRecords = await res.json();\n      return purchaseRecords.flatMap(record => record.items || []);\n    } catch (err) {\n      console.error('❌ Error fetching purchases:', err);\n      return [];\n    }\n  };\n  const refreshStoreItems = async () => {\n    try {\n      const res = await fetch('http://localhost:3001/api/products');\n      const backendJets = await res.json();\n      setStoreItems([...jets, ...backendJets]);\n    } catch (err) {\n      console.error('❌ Failed to refresh store items:', err);\n    }\n  };\n  useEffect(() => {\n    refreshStoreItems();\n  }, []);\n  const renderWithMenu = (Component, props) => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n      user: user,\n      onNavigate: setView,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Component, {\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  if (!user && view === 'login') {\n    return /*#__PURE__*/_jsxDEV(AlreadyReg, {\n      onLogin: handleLogin,\n      onBackToRegister: () => setView('register')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 12\n    }, this);\n  }\n  if (!user && view === 'register') {\n    return /*#__PURE__*/_jsxDEV(Register, {\n      onLogin: handleLogin,\n      onShowLogin: () => setView('login')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 12\n    }, this);\n  }\n  if (user && view === 'store') {\n    return renderWithMenu(StoreScreen, {\n      user,\n      cart,\n      onAddToCart: handleAddToCart,\n      onShowCart: () => setView('cart'),\n      onLogout: handleLogout,\n      setView,\n      storeItems\n    });\n  }\n  if (user && view === 'cart') {\n    return renderWithMenu(CartPage, {\n      cart,\n      onBack: () => setView('store'),\n      onRemove: handleRemoveFromCart,\n      onCheckout: () => setView('pay')\n    });\n  }\n  if (user && view === 'pay') {\n    return renderWithMenu(PayScreen, {\n      total: cart.reduce((sum, item) => sum + item.price, 0),\n      cart,\n      user,\n      onBack: () => setView('cart'),\n      onConfirm: handleConfirmCheckout,\n      onClearCart: () => setCart([]),\n      setPurchasedItems\n    });\n  }\n  if (user && view === 'thankyou') {\n    return renderWithMenu(ThankYouPage, {\n      onGoToStore: () => setView('store')\n    });\n  }\n  if (user && view === 'myItems') {\n    return renderWithMenu(MyItemsPage, {\n      purchasedItems,\n      onBackToStore: () => setView('store')\n    });\n  }\n  if ((user === null || user === void 0 ? void 0 : user.username) === 'admin' && view === 'admin') {\n    return renderWithMenu(AdminPage, {\n      storeItems,\n      setStoreItems,\n      onBackToStore: async () => {\n        await refreshStoreItems(); // 🆕 רענון אחרי הוספת מוצרים\n        setView('store');\n      }\n    });\n  }\n  return null;\n}\n_s(App, \"x+wRBpWEO6kVg9/6VWbdHhsJ0wI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","Register","AlreadyReg","StoreScreen","CartPage","PayScreen","ThankYouPage","MyItemsPage","AdminPage","MenuButton","falcon","skyLiner200","aeroSwift","cloudCruiser","jetStream500","eagleEye","skyDancer","nimbus300","horizon700","phoenixGT","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","view","setView","cart","setCart","purchasedItems","setPurchasedItems","setActivityLog","jets","id","name","price","imageUrl","description","storeItems","setStoreItems","logActivity","username","activity","timestamp","Date","toLocaleString","prev","datetime","handleLogin","userData","console","log","loadedItems","fetchPurchasesForUser","handleLogout","handleAddToCart","jet","handleRemoveFromCart","jetId","index","findIndex","updated","splice","handleConfirmCheckout","updatedRes","fetch","json","allItems","flatMap","record","items","err","error","alert","res","ok","Error","purchaseRecords","refreshStoreItems","backendJets","renderWithMenu","Component","props","children","onNavigate","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onBackToRegister","onShowLogin","onAddToCart","onShowCart","onBack","onRemove","onCheckout","total","reduce","sum","item","onConfirm","onClearCart","onGoToStore","onBackToStore","_c","$RefreshReg$"],"sources":["/Users/alon/Dev/Projects/Web/my-online-store/client/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useMemo } from 'react';\nimport { useEffect } from 'react';\n\n// Pages\nimport Register from './pages/register';\nimport AlreadyReg from './pages/AlreadyReg';\nimport StoreScreen from './pages/StoreScreen';\nimport CartPage from './pages/CartPage';\nimport PayScreen from './pages/PayScreen';\nimport ThankYouPage from './pages/ThankYouPage';\nimport MyItemsPage from './pages/MyItemsPage';\nimport AdminPage from './pages/AdminPage';\n\n// Components\nimport MenuButton from './components/MenuButton';\n\n// Jet images\nimport falcon from './assets/jets/Falcon.png';\nimport skyLiner200 from './assets/jets/SkyLiner200.png';\nimport aeroSwift from './assets/jets/AeroSwift.png';\nimport cloudCruiser from './assets/jets/CloudCruiser.png';\nimport jetStream500 from './assets/jets/JetStream500.png';\nimport eagleEye from './assets/jets/EagleEye.png';\nimport skyDancer from './assets/jets/SkyDancer.png';\nimport nimbus300 from './assets/jets/Nimbus300.png';\nimport horizon700 from './assets/jets/Horizon700.png';\nimport phoenixGT from './assets/jets/PhoeniGT.png';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [view, setView] = useState('register');\n  const [cart, setCart] = useState([]);\n  const [purchasedItems, setPurchasedItems] = useState([]);\n  const [, setActivityLog] = useState([]);\n\n  const jets = useMemo(() => [\n    { id: 1, name: 'Falcon',       price: 2500000, imageUrl: falcon,       description: 'High-speed private jet.' },\n    { id: 2, name: 'SkyLiner 200', price: 1800000, imageUrl: skyLiner200,  description: 'Luxurious comfort in the skies.' },\n    { id: 3, name: 'AeroSwift',    price: 3200000, imageUrl: aeroSwift,    description: 'Cutting-edge design and performance.' },\n    { id: 4, name: 'CloudCruiser', price: 2100000, imageUrl: cloudCruiser, description: 'Smooth flight guaranteed.' },\n    { id: 5, name: 'JetStream 500',price: 2900000, imageUrl: jetStream500, description: 'State-of-the-art avionics.' },\n    { id: 6, name: 'Eagle Eye',    price: 2300000, imageUrl: eagleEye,     description: 'Premium surveillance jet.' },\n    { id: 7, name: 'SkyDancer',    price: 2750000, imageUrl: skyDancer,    description: 'Elegant and efficient.' },\n    { id: 8, name: 'Nimbus 300',   price: 1950000, imageUrl: nimbus300,    description: 'Compact business jet.' },\n    { id: 9, name: 'Horizon 700',  price: 3500000, imageUrl: horizon700,   description: 'Long-range luxury.' },\n    { id: 10, name: 'Phoenix GT',  price: 2600000, imageUrl: phoenixGT,    description: 'Performance and style.' },\n  ], []);\n\n  const [storeItems, setStoreItems] = useState(jets);\n\n  const logActivity = (username, activity) => {\n    const timestamp = new Date().toLocaleString();\n    setActivityLog(prev => [...prev, { datetime: timestamp, username, activity }]);\n  };\n\n  const handleLogin = async (userData) => {\n    setUser(userData);\n    console.log('👤 Logged in as:', userData);\n    logActivity(userData.username, 'login');\n    const loadedItems = await fetchPurchasesForUser(userData.username);\n    setPurchasedItems(loadedItems);\n    setView('store');\n  };\n\n  const handleLogout = () => {\n    if (user) logActivity(user.username, 'logout');\n    setUser(null);\n    setCart([]);\n    setPurchasedItems([]);\n    setView('register');\n  };\n\n  const handleAddToCart = (jet) => {\n    if (user) logActivity(user.username, `add-to-cart: ${jet.name}`);\n    setCart(prev => [...prev, jet]);\n  };\n\n  const handleRemoveFromCart = (jetId) => {\n    setCart(prev => {\n      const index = prev.findIndex(jet => jet.id === jetId);\n      if (index === -1) return prev;\n      const updated = [...prev];\n      updated.splice(index, 1);\n      return updated;\n    });\n  };\n\n  const handleConfirmCheckout = async () => {\n    try {\n      const updatedRes = await fetch(`http://localhost:3001/api/purchase/${user.username}`);\n      const updated = await updatedRes.json();\n      const allItems = updated.flatMap(record => record.items || []);\n      setPurchasedItems(allItems);\n      setCart([]);\n      setView('thankyou');\n    } catch (err) {\n      console.error('❌ Error updating purchased items after payment:', err);\n      alert('✅ Payment was successful, but failed to update your items.');\n    }\n  };\n\n  const fetchPurchasesForUser = async (username) => {\n    try {\n      const res = await fetch(`http://localhost:3001/api/purchase/${username}`);\n      if (!res.ok) throw new Error('Failed to load purchases');\n      const purchaseRecords = await res.json();\n      return purchaseRecords.flatMap(record => record.items || []);\n    } catch (err) {\n      console.error('❌ Error fetching purchases:', err);\n      return [];\n    }\n  };\n\n  const refreshStoreItems = async () => {\n    try {\n      const res = await fetch('http://localhost:3001/api/products');\n      const backendJets = await res.json();\n      setStoreItems([...jets, ...backendJets]);\n    } catch (err) {\n      console.error('❌ Failed to refresh store items:', err);\n    }\n  };\n\n  useEffect(() => {\n    refreshStoreItems();\n  }, []);\n\n  const renderWithMenu = (Component, props) => (\n    <>\n    <MenuButton user={user} onNavigate={setView} onLogout={handleLogout} />\n\n      <Component {...props} />\n    </>\n  );\n\n  if (!user && view === 'login') {\n    return <AlreadyReg onLogin={handleLogin} onBackToRegister={() => setView('register')} />;\n  }\n\n  if (!user && view === 'register') {\n    return <Register onLogin={handleLogin} onShowLogin={() => setView('login')} />;\n  }\n\n  if (user && view === 'store') {\n    return renderWithMenu(StoreScreen, {\n      user,\n      cart,\n      onAddToCart: handleAddToCart,\n      onShowCart: () => setView('cart'),\n      onLogout: handleLogout,\n      setView,\n      storeItems\n    });\n  }\n\n  if (user && view === 'cart') {\n    return renderWithMenu(CartPage, {\n      cart,\n      onBack: () => setView('store'),\n      onRemove: handleRemoveFromCart,\n      onCheckout: () => setView('pay')\n    });\n  }\n\n  if (user && view === 'pay') {\n    return renderWithMenu(PayScreen, {\n      total: cart.reduce((sum, item) => sum + item.price, 0),\n      cart,\n      user,\n      onBack: () => setView('cart'),\n      onConfirm: handleConfirmCheckout,\n      onClearCart: () => setCart([]),\n      setPurchasedItems,\n    });\n  }\n\n  if (user && view === 'thankyou') {\n    return renderWithMenu(ThankYouPage, {\n      onGoToStore: () => setView('store')\n    });\n  }\n\n  if (user && view === 'myItems') {\n    return renderWithMenu(MyItemsPage, {\n      purchasedItems,\n      onBackToStore: () => setView('store')\n    });\n  }\n\n  if (user?.username === 'admin' && view === 'admin') {\n    return renderWithMenu(AdminPage, {\n      storeItems,\n      setStoreItems,\n      onBackToStore: async () => {\n        await refreshStoreItems(); // 🆕 רענון אחרי הוספת מוצרים\n        setView('store');\n      }\n    });\n  }\n\n  return null;\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}